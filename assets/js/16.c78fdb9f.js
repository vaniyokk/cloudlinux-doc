(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{187:function(t,e,a){"use strict";a.r(e);var i=a(0),s=Object(i.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("Here you will find the instructions and common techniques used to integrate your software with CloudLinux.")]),t._v(" "),a("p",[a("router-link",{attrs:{to:"/detecting/"}},[t._v("Detecting and Working with CloudLinux")]),t._v(" .")],1),t._v(" "),a("p",[a("router-link",{attrs:{to:"/cpu_memory_iolimits/"}},[t._v("Displaying ")]),t._v(" "),a("router-link",{attrs:{to:"/cpu_memory_iolimits/"}},[t._v(" limits.")])],1),t._v(" "),a("p",[a("router-link",{attrs:{to:"/lve_limits_with_packages/"}},[t._v("Integrating LVE Limits with Packages.")])],1),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("Detecting if system is running CloudLinux/CloudLinux kernel:")]),t._v(" "),t._m(2),a("p",[t._v("If you get an output, it means the system is running CloudLinux kernel. CloudLinux kernels have lve in its name, like:")]),t._v(" "),a("p",[t._v("Alternatively you can check for the presence of file.")]),t._v(" "),a("p",[t._v("Check if CageFS is enabled (as ):")]),t._v(" "),t._m(3),a("p",[t._v("Check if CageFS is enabled for a particular user (as ):")]),t._v(" "),t._m(4),a("p",[t._v("Check if you are inside CageFS:")]),t._v(" "),a("p",[t._v("Check for the presence of file - if present, it means that you are inside CageFS.")]),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("Most control panels choose to display CloudLinux usage & limits to end customers. To simplify that, we lve-stats exports a file that can be easily read and processed by a control panel to display the necessary information.")]),t._v(" "),a("p",[t._v("The information is located in the file. This information is updated every 5 minutes, and contains default limits (first line), as well as usage and limits for all customers. If a customer is not present in the file, it means that customer is not active (no scripts were executed recently for the customer), and a customer has default limits (so you can display no usage, and default limits in the control panel for that customer.")]),t._v(" "),a("p",[t._v("The data is stored in a form of one line per customer, with coma separated values.")]),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("With LVE version 4 (CloudLinux lve0.x) only the first 9 parameters are available. You can check the the version by reading the first byte of")]),t._v(" "),a("p",[t._v("On the version 6 all 15 parameters should be available.")]),t._v(" "),a("p",[t._v("There is only 2 LVE versions currently used in production. Future versions might add more fields, but will not alter order of existing fields.")]),t._v(" "),a("p",[t._v("Memory is defined in 4KB pages (so, 1024 would mean 1024 4KB pages, or 4MB).")]),t._v(" "),a("p",[t._v("is defined as KB/s.")]),t._v(" "),a("p",[t._v("is defined as % of total number of cores on a server.")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("CloudLinux can automatically detect the most popular control panels, like cPanel - and allows to set different limits for users in different packages. It simplifies management as you don't have to choose between one limit that fits all your customers on the server, or individual limits for the customers.")]),t._v(" "),a("p",[t._v("If you have a custom made control panel, with your own 'package' implementation, you can still use CloudLinux framework to manage limits for your packages.")]),t._v(" "),a("p",[t._v("To do that, you would need:")]),t._v(" "),a("p",[t._v("Implement script that would map users <-> packages.")]),t._v(" "),a("p",[t._v("Configure lvectl to use your script.")]),t._v(" "),a("p",[t._v("A script can be written in any language, and it has to be executable.")]),t._v(" "),a("p",[t._v("It should accept the following arguments:")]),t._v(" "),a("p",[t._v("Output should look like a list of space separate pairs of user Linux IDs and package names.")]),t._v(" "),t._m(9),a("p",[t._v("Output should contain package name, like:")]),t._v(" "),t._m(10),a("p",[t._v("Output should look like a list of user Linux IDs.")]),t._v(" "),t._m(11),a("p",[t._v("Output contains a list of names of packages, like:")]),t._v(" "),t._m(12),a("p",[t._v("Edit file.")]),t._v(" "),a("p",[t._v("Edit or modify parameter , and set it to point to your script, like:")]),t._v(" "),a("p",[t._v("For the script example please check the following article: "),a("a",{attrs:{href:"http://kb.cloudlinux.com/2015/02/integrating-lve-limits-with-packages-for-unsupported-control-panel/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://kb.cloudlinux.com/2015/02/integrating-lve-limits-with-packages-for-unsupported-control-panel/"),a("OutboundLink")],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"integration-guide"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integration-guide","aria-hidden":"true"}},[this._v("#")]),this._v(" Integration Guide")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"detecting-and-working-with-cloudlinux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#detecting-and-working-with-cloudlinux","aria-hidden":"true"}},[this._v("#")]),this._v(" Detecting and Working with CloudLinux")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ uname -r|grep lve \n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --cagefs-status\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --user-status _USER_NAME_\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"displaying-cpu-memory-io-limits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#displaying-cpu-memory-io-limits","aria-hidden":"true"}},[this._v("#")]),this._v(" Displaying CPU, Memory & IO limits")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0")]),t._v(" "),a("td",[t._v("user id")])]),t._v(" "),a("tr",[a("td",[t._v("1")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("limit")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("4")]),t._v(" "),a("td",[t._v("limit")])]),t._v(" "),a("tr",[a("td",[t._v("5")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("6")]),t._v(" "),a("td",[t._v("Limit")])]),t._v(" "),a("tr",[a("td",[t._v("7")]),t._v(" "),a("td",[t._v("Number of faults")])]),t._v(" "),a("tr",[a("td",[t._v("8")]),t._v(" "),a("td",[t._v("Number of faults")])]),t._v(" "),a("tr",[a("td",[t._v("9")]),t._v(" "),a("td",[t._v("Limit")])]),t._v(" "),a("tr",[a("td",[t._v("10")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("11")]),t._v(" "),a("td",[t._v("Number of faults")])]),t._v(" "),a("tr",[a("td",[t._v("12")]),t._v(" "),a("td",[t._v("limit")])]),t._v(" "),a("tr",[a("td",[t._v("13")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("14")]),t._v(" "),a("td",[t._v("fault")])]),t._v(" "),a("tr",[a("td",[t._v("15")]),t._v(" "),a("td",[t._v("Reserved")])]),t._v(" "),a("tr",[a("td",[t._v("16")]),t._v(" "),a("td",[t._v("Usage")])]),t._v(" "),a("tr",[a("td",[t._v("17")]),t._v(" "),a("td",[t._v("Limit")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"integrating-lve-limits-with-packages"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integrating-lve-limits-with-packages","aria-hidden":"true"}},[this._v("#")]),this._v(" Integrating LVE Limits with Packages")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("[lve-utils 1.4+]")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("100 package1\n101 package1\n102 package2\n103 package3\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("package1\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("100\n101\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("package1\npackage2\npackage3\n")])])])}],!1,null,null,null);s.options.__file="README.md";e.default=s.exports}}]);